CREATE DATABASE artspace;
USE artspace;

CREATE TABLE PAIS
(ID_PAIS VARCHAR(4) NOT NULL,
NOMBRE_PAIS VARCHAR(25) NOT NULL,
PRIMARY KEY(ID_PAIS));

CREATE TABLE CIUDAD
(ID_CIUDAD NUMERIC(5) NOT NULL,
NOMBRE_CIUDAD VARCHAR(25) NOT NULL,
ID_PAIS VARCHAR(4),
PRIMARY KEY(ID_CIUDAD),
FOREIGN KEY(ID_PAIS) REFERENCES PAIS(ID_PAIS));

CREATE TABLE USERS
(EMAIL VARCHAR(30) NOT NULL,
CONTRASEÃ‘A VARCHAR(200) NOT NULL,
PRIMARY KEY(EMAIL));

CREATE TABLE ADMINISTRADOR(
ID_ADMIN INT(5) NOT NULL AUTO_INCREMENT,
NOMBRE VARCHAR(25) NOT NULL,
APATERNO VARCHAR(25) NOT NULL,
AMATERNO VARCHAR(25) NOT NULL,
EMAIL VARCHAR(30) NOT NULL,
PRIMARY KEY(ID_ADMIN),
FOREIGN KEY(EMAIL) REFERENCES USERS(EMAIL));

CREATE TABLE ARTISTA(
ID_ARTISTA INT(10) NOT NULL AUTO_INCREMENT,
NOMBRE VARCHAR(25) NOT NULL,
APATERNO VARCHAR(25) NOT NULL,
AMATERNO VARCHAR(25) NOT NULL,
NOMBRE_ARTISTICO VARCHAR(25) NOT NULL,
FECHA_NAC DATE NOT NULL,
EMAIL_CONTACTO VARCHAR(25) NOT NULL,
ID_CIUDAD NUMERIC(5) NOT NULL,
EMAIL VARCHAR(30) NOT NULL,
PRIMARY KEY(ID_ARTISTA),
FOREIGN KEY(EMAIL) REFERENCES USERS(EMAIL),
FOREIGN KEY(ID_CIUDAD) REFERENCES CIUDAD(ID_CIUDAD),
UNIQUE(EMAIL_CONTACTO));

CREATE TABLE ESTILO(
COD_ESTILO INT(4) NOT NULL AUTO_INCREMENT,
NOMBRE_ESTILO VARCHAR(25) NOT NULL,
PRIMARY KEY(COD_ESTILO));

CREATE TABLE OBRA(
COD_OBRA INT(10) NOT NULL AUTO_INCREMENT,
NOMBRE_OBRA VARCHAR(50) NOT NULL,
DESC_OBRA VARCHAR(200) NOT NULL,
COD_ESTILO INT(4) NOT NULL,
ID_ARTISTA INT(10) NOT NULL,
PRIMARY KEY(COD_OBRA),
FOREIGN KEY (COD_ESTILO) REFERENCES estilo(COD_ESTILO),
FOREIGN KEY (ID_ARTISTA) REFERENCES artista(ID_ARTISTA));

CREATE TABLE IMG_OBRA(
COD_OBRA INT(10) NOT NULL,
ID_IMG INT(10) NOT NULL AUTO_INCREMENT,
IMG_OBRA VARCHAR(100) NOT NULL,
PRIMARY KEY(ID_IMG),
FOREIGN KEY(COD_OBRA) REFERENCES obra(COD_OBRA)
)